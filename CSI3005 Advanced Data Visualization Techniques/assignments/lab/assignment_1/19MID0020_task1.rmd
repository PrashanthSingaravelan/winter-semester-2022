---
title: "19MID0020 Assignment-1"
output:
  pdf_document: default
  df_print: paged
  html_document:
  html_notebook: default
---
## Importing the necessary libraries
```{r}
library(ggplot2)
library(plotly)
```


## First 5 records
```{r}
df = read.csv('Expectancy.csv', header = TRUE, sep = ",")
head(df)
```

## Last 5 records
```{r}
tail(df)
```

## Data-type of every attribute
```{r}
str(df)
```
## Attributes in the data-set
```{r}
attr(x = df, which = "names")  
```

```{r}
summary(df)
```

## Checking for NULL values
```{r}
lapply(df,function(x) { 
  length(which(is.na(x)))
})
```
# 1. Choose a country and plot the life expectancy by year (both scatter and line plot)
```{r}
df_india = subset(df,country =="India")
df_india
```
## Scatter Plot
```{r}
ggplot(df_india, aes(x=year, y=lifeExp)) + 
  geom_point(size = 3, color = "#0099f9") + 
    labs(
    title = "Life Expectancy vs Year",
    subtitle = "LifeExp - Expected number of years remaining for an individual at any given year ",
    caption = "Source: Expectancy dataset"
) +
    theme(
    plot.title = element_text(color = "#0099f9", size = 20, face = "bold", hjust = 0.5),
    plot.subtitle = element_text(size = 13, face = "bold", hjust = 0.5),
    plot.caption = element_text(face = "italic", hjust = 0)
)
```

## Line Plot
```{r}
fig = plot_ly(data = df_india, x = ~year, y = ~lifeExp,
              type = 'scatter', mode = 'lines',
              marker = list(size = 10,
              color = 'rgba(255, 182, 193, .9)',
              line = list(color = 'rgba(152, 0, 0, .8)',width = 2)))

fig <- fig %>% layout(title = 'Life Expectancy vs Year',
        yaxis = list(zeroline = FALSE),
        xaxis = list(zeroline = FALSE)
)

fig
```

# 2. Plot the life expectancy by year for five countries. (both scatter and line plot)
```{r}
## Take out the five countries
df_5countries<-df[df$country %in% c('China', 'India', 'France', 'Poland', 'Serbia'), ]
head(df_5countries)
```

## Scatter plot
```{r}
fig = plot_ly(data = df_5countries, x = ~year, y = ~lifeExp, color=~country,
              marker = list(size = 10))

fig <- fig %>% layout(title = 'Life Expectancy vs Year',
        yaxis = list(zeroline = FALSE),
        xaxis = list(zeroline = FALSE)
)
fig
```

## Line plot
```{r}
ggplot(data=df_5countries, aes(x=year, y=lifeExp, color=country)) + 
  geom_line(size = 1) + 
    labs(
    title = "Life Expectancy by year for five countries.",
    caption = "Source: Expectancy dataset"
) +
    theme(
    plot.title = element_text(color = "#0099f9", size = 20, face = "bold", hjust = 0.5),
    plot.subtitle = element_text(size = 13, face = "bold", hjust = 0.5),
    plot.caption = element_text(face = "italic", hjust = 0)
)
```


#3. Plot the life expectancy of all the countries in Europe for any particular year.
```{r}
## Take out Europian Continent
df_europe2007 = subset(df,continent =="Europe" & year==2007)
head(df_europe2007)
```

## Bar Plot
```{r}
fig = plot_ly(data = df_europe2007, x = ~country, y = ~lifeExp,
              marker = list(size = 10))

fig <- fig %>% layout(title = 'Life Expectancy in Europen Continent in 2007 by year',
        yaxis = list(zeroline = FALSE),
        xaxis = list(zeroline = FALSE)
)
fig
```





